<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">

  <grid name="invoice-grid" title="Invoice" model="com.axelor.gst.db.Invoice">
    <field name="status" />
    <field name="company" />
    <field name="date1" title="Current Date"/>
    <field name="priority" />
    <field name="party" title="party"/>
    <field name="partyContact" title="Party Contact"/>
    <field name="invoiceAddress" title="Invoice address"/>
    <field name="shippingAddress" title="Shipping Address" />
    <field name="addressValue" title="Address Value" />
    <field name="netAmount" title="Net Amount"/>
    <field name="netGstrate"  title="Net GST Rate"/>
    <field name="netIgst" title="Net IGST"/>  
    <field name="netCgst" title="Net CGST"/>
    <field name="netSgst" title="Net SGST"/>
    <field name="grossAmount" title="Gross Amount"/>
    <field name="invoiceItems" title="Invoice Items"/>
  </grid>
  <form name="invoice-form" title="Invoice"  model="com.axelor.gst.db.Invoice" onNew="date-task-on-new" >
  	<toolbar>
			<button name="btnPrint" title="Print" showTitle="false"
				 onClick="print.invoice" icon="fa-print" />
		</toolbar>
   	<panel colSpan="12">
   	 <panel colSpan="12">
   	 <field name="status" widget="nav-select"/>
   	 </panel>
    <field name="company" />
    <field name="date1" title="Current Date"/>
    <field name="priority" />
    <field name="party" title="Party" onChange="action-invoice-party-productcontactall,action-invoice-addressinvoice-addressinvoice,action-invoice-addressshipping-addressshipping"/>
    </panel>
    <panel colSpan="12">
  	<field name="partyContact" colSpan="12" title="Party Contact">
 	 <editor>
   	    <field name="name"/>
	    <field name="type"/>
	    <field name="primaryEmail"/>
	    <field name="secondaryEmail"/>
	    <field name="primaryPhone"/>
	    <field name="secondaryPhone"/>
 	 </editor>
	</field>
    </panel>
    <panel colSpan="12">
    <field name="invoiceAddress" title="Invoice address">
	    <editor>
	    	<field name="line1" />
		    <field name="line2" />
		    <field name="city" />
		    <field name="state" />
		    <field name="country" />
		   	<field name="pinCode" title="Pin Code" />
	    </editor>
    </field>
   
    <field name="shippingAddress" title="Shipping Address" hidden="true">
     <editor>
     	<field name="line1" />
		<field name="line2" />
		<field name="city" />
		<field name="state" />
		<field name="country" />
		<field name="pinCode" title="Pin Code" />
     </editor>
    </field>
     <field name="addressValue" title="Address Value" onChange="invoice.onclick,invoice.hidden"/>
    </panel>
    <panel colSpan="12">
    
    <field name="netAmount" title="Net Amount"/>
    <field name="netGstrate"  title="Net GST Rate"/>
    <field name="netIgst" title="Net IGST"/>  
    <field name="netCgst" title="Net CGST"/>
    <field name="netSgst" title="Net SGST"/>
    <field name="grossAmount" title="Gross Amount"/>
    
   	</panel>
   	<panel-related field="invoiceItems" title="Invoice Items" onChange="action-invoice-price-calculateall"></panel-related>
	<panel sidebar="true">
	      <button name="send" title="Send"/>
	      <button name="Cancel" title="Cancel" />
	    </panel>
    </form>
  
  <kanban name="project-task-kanban" title="Project Tasks" model="com.axelor.gst.db.Invoice"
  columnBy="status" sequenceBy="priority" onNew="project.task.kanban.on.new" limit="10">
  <field name="company"/>

  <hilite color="danger" if="status == 0" />
  <hilite color="success" if="status == 100" />
  <hilite color="info" if="status &gt;= 50" />
  <hilite color="warning" if="status &gt; 0" />
  <template><![CDATA[
  <h4>{{name}}</h4>
  <div class="card-footer">
    <i class='fa fa-clock-o'></i> <span>{{date1|date:'yyyy-MM-dd HH:mm:ss'}}</span>
  </div>
  ]]></template>
	</kanban>
	
	 <action-record name="date-task-on-new" model="com.axelor.gst.db.Invoice">
    <field name="date1" expr="eval:__datetime__"/>
  	</action-record>
  	
	<action-method name="action-invoice-price-calculateall">
    <call class="com.axelor.gst.web.InvoiceController" method="calculateAll"/>
  </action-method><action-report name="print.sale.order" design="order.rptdesign"
		output="so-${date}${time}" format="pdf">
		<param name="orderId" expr="eval: id" />
	</action-report>
  
  	
  	<action-method name="action-invoice-party-productcontactall">
    <call class="com.axelor.gst.web.InvoiceController" method="productcontactAll"/>
  </action-method>
  
  <action-method name="action-invoice-addressinvoice-addressinvoice">
    <call class="com.axelor.gst.web.InvoiceController" method="addressInvoice"/>
  </action-method>
  
  <action-method name="action-invoice-addressshipping-addressshipping">
    <call class="com.axelor.gst.web.InvoiceController" method="addressShipping"/>
  </action-method>
  
    <action-attrs name="invoice.onclick">
     <attribute name="value" for="shippingAddress" expr="eval:invoiceAddress" if="eval:addressValue"/>
    </action-attrs>
    
    <action-attrs name="invoice.hidden">
    <attribute name="hidden" for="shippingAddress" expr="eval:addressValue"/>
    </action-attrs>
  
  <action-report name="print.invoice" design="invoice.rptdesign"
		output="so-${date}${time}" format="pdf">
		<param name="invoiceId" expr="eval: id" />
	</action-report>
  
  
</object-views>